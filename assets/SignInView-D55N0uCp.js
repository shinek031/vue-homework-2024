import{u as d,d as u,c,a as t,w as l,v as n,b as m,e as p,f,o as _,g as w,R as v}from"./index-CNe2iPz5.js";import{a as g,S as h}from"./axios-D1a_d0j8.js";const C={class:"formControls",action:"index.html"},x=t("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1),b=t("label",{class:"formControls_label",for:"email"},"Email",-1),k=t("span",null,"此欄位不可留空",-1),V=t("label",{class:"formControls_label",for:"pwd"},"密碼",-1),D={__name:"SignInView",setup(y){const r=d(),o=u({email:"",pwd:""}),i=async()=>{o.value.email==""&&alert("Please enter email"),o.value.pwd==""&&alert("Please enter password");const s={email:o.value.email,password:o.value.pwd};try{const e=await g.post(`${h}`,s);if(console.log(e),e.data.status){const a=new Date;a.setDate(a.getDate()+1),console.log("token:"+e.data.token),document.cookie=`userTodo=${e.data.token}; expires=${a.toUTCString()}; path=/`,r.push("/Todos")}else alert(e.data.message)}catch(e){console.log(e)}};return(s,e)=>(_(),c("div",null,[t("form",C,[x,b,l(t("input",{class:"formControls_input",type:"text",id:"email",name:"email","onUpdate:modelValue":e[0]||(e[0]=a=>o.value.email=a),placeholder:"請輸入 email",required:""},null,512),[[n,o.value.email]]),k,V,l(t("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":e[1]||(e[1]=a=>o.value.pwd=a),placeholder:"請輸入密碼",required:""},null,512),[[n,o.value.pwd]]),t("input",{class:"formControls_btnSubmit",type:"button",onClick:i,value:"登入"}),m(f(v),{class:"formControls_btnLink",to:"singup"},{default:p(()=>[w("註冊帳號")]),_:1})])]))}};export{D as default};
