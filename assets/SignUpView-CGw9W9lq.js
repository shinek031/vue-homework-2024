import{u as d,d as p,c as u,w as t,v as o,a as l,b as m,e as c,f,o as w,g as _,R as v}from"./index-D2pty81j.js";import{a as C}from"./axios-BimPEqV4.js";const b={class:"formControls",action:"index.html"},h=l("h2",{class:"formControls_txt"},"註冊帳號",-1),g=l("label",{class:"formControls_label",for:"email"},"Email",-1),x=l("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),V=l("label",{class:"formControls_label",for:"pwd"},"密碼",-1),y=l("label",{class:"formControls_label",for:"repwd"},"再次輸入密碼",-1),k="https://todolist-api.hexschool.io",B={__name:"SignUpView",setup(U){const n=d(),e=p({email:"",name:"",pwd:"",repwd:""}),i=async()=>{e.value.email==""&&alert("Please enter email"),e.value.name==""&&alert("Please enter name"),e.value.pwd==""&&alert("Please enter password"),e.value.repwd==""&&alert("Please enter repassword"),e.value.pwd!=e.value.repwd&&alert("密碼輸入不一致");const r={email:e.value.email,password:e.value.pwd,nickname:e.value.name};try{const a=await C.post(`${k}/users/sign_up`,r);a.data.status?(alert("註冊成功"),n.push("singin")):alert(a.data.message)}catch(a){console.log(a.response.data.message),alert(a.response.data.message)}};return(r,a)=>(w(),u("form",b,[h,g,t(l("input",{class:"formControls_input",type:"text",id:"email",name:"email","onUpdate:modelValue":a[0]||(a[0]=s=>e.value.email=s),placeholder:"請輸入 email",required:""},null,512),[[o,e.value.email]]),x,t(l("input",{class:"formControls_input",type:"text",name:"name",id:"name","onUpdate:modelValue":a[1]||(a[1]=s=>e.value.name=s),placeholder:"請輸入您的暱稱"},null,512),[[o,e.value.name]]),V,t(l("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":a[2]||(a[2]=s=>e.value.pwd=s),placeholder:"請輸入密碼",required:""},null,512),[[o,e.value.pwd]]),y,t(l("input",{class:"formControls_input",type:"password",name:"repwd",id:"repwd","onUpdate:modelValue":a[3]||(a[3]=s=>e.value.repwd=s),placeholder:"請再次輸入密碼",required:""},null,512),[[o,e.value.repwd]]),l("input",{class:"formControls_btnSubmit",type:"button",onClick:i,value:"註冊帳號"}),m(f(v),{class:"formControls_btnLink",to:"singin"},{default:c(()=>[_("登入")]),_:1})]))}};export{B as default};
